@startuml

title 迷路ゲームプレイ中シーケンス

loop
    eventManger -> IOManager : waitInput()
    alt you got any kind of key input
        IOManager -> readKey : getInput()
        readKey --> IOManager
    end
    IOManager --> eventManger

    eventManger -> playerManager : P_getPositionOfPl()
    playerManager --> eventManger

    eventManger -> labyrinthManager : revealLab()
    labyrinthManager --> eventManger

    alt not pass labyrinth
        eventManger -> ComM : procGame()
            ComM -> IOManager : showGameView()
                IOManager -> showView : writeLabandPl()
                showView --> IOManager
            IOManager -> ComM
        ComM --> eventManger
    else pass labyrinth
        eventManger -> timer : calcPlayTime()
        timer --> eventManger 
        eventManger -> ComM : ProcAfterPassGame()
            ComM -> IOManager : showPassView()
                IOManager -> showView : writeCongandTime()
        break
        end
    end
end

@enduml